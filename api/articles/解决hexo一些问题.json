{"title":"解决hexo一些问题","slug":"解决hexo一些问题","date":"2021-01-13T08:58:00.000Z","updated":"2021-10-14T06:57:21.120Z","comments":true,"path":"api/articles/解决hexo一些问题.json","excerpt":null,"covers":["/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-1-13-16-33.jpg","/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-02-03_19-14-21.png","/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-02-03_19-17-05.png"],"content":"<h2 id=\"解决图片无法上传问题\"><a href=\"#解决图片无法上传问题\" class=\"headerlink\" title=\"解决图片无法上传问题\"></a>解决图片无法上传问题</h2><p>今天说一个致命问题：博客上不能添加图片。</p>\n<p>当然遇到问题就要查一下怎么解决，结果一百度，你抄我，我抄你。</p>\n<p><img src=\"/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-1-13-16-33.jpg\" alt=\"2021-1-13-16-33\"></p>\n<p>最终我还是找到了一种方法。</p>\n<h3 id=\"修改配置文件\"><a href=\"#修改配置文件\" class=\"headerlink\" title=\"修改配置文件\"></a>修改配置文件</h3><p>打开<code>_config.yml</code>文件，找到<code>post_asset_folder</code>，将后面的<code>false</code>改成<code>true</code>，这个目的是新建的md文件会附带一个同名文件夹，可以把图片放在这里面。</p>\n<h3 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h3><p>在安装之前我先说一点，我也不知为什么用<code>npm</code>会报错，所以我先装了个<code>yarn</code>，用这个去安装。安装<code>yarn</code>的指令如下。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g  yarn</span><br></pre></td></tr></table></figure>\n<p>接下来用继续打指令：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add https:&#x2F;&#x2F;github.com&#x2F;CodeFalling&#x2F;hexo-asset-image</span><br></pre></td></tr></table></figure>\n<p>等待一会就安装完毕了。</p>\n<h3 id=\"markdown添加图片方法\"><a href=\"#markdown添加图片方法\" class=\"headerlink\" title=\"markdown添加图片方法\"></a>markdown添加图片方法</h3><p>基本上就可以添加图片了，使用markdown添加图片的语句：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">随便起个名字</span>](<span class=\"link\">./文件夹/图片名</span>)</span><br></pre></td></tr></table></figure>\n<p>这里有几点需要注意：</p>\n<ul>\n<li>windows一定用<code>./</code>开头，虽然不加也可以识别，但hexo不识别，所以养成习惯加上吧。</li>\n<li>一定用<code>/</code>，而不是<code>\\</code>，同样也会不识别的。</li>\n</ul>\n<p>接下来就从本地可以检查一下了，或用<code>hexo d</code>拉上去</p>\n<blockquote>\n<p>参考：</p>\n<p><a href=\"https://www.bilibili.com/video/BV1D7411U7Yk?from=search&amp;seid=408704681372427777\">https://www.bilibili.com/video/BV1D7411U7Yk?from=search&amp;seid=408704681372427777</a></p>\n</blockquote>\n<hr>\n<h2 id=\"解决公式不能显示问题\"><a href=\"#解决公式不能显示问题\" class=\"headerlink\" title=\"解决公式不能显示问题\"></a>解决公式不能显示问题</h2><p>hexo-renderer-kramed引擎是在默认的渲染引擎，hexo-renderer-marked的基础上修改了一些bug，两者比较接近，也比较轻量级。</p>\n<p>所以需要先卸载marked渲染引擎，换成marked渲染引擎。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm uninstall hexo-renderer-marked --save</span><br><span class=\"line\">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改语义冲突\"><a href=\"#修改语义冲突\" class=\"headerlink\" title=\"修改语义冲突\"></a>修改语义冲突</h3><p>但其中有几处语义冲突，所以需要去改一下。</p>\n<p>找到<code>node_modules\\kramed\\lib\\rules\\inline.js</code>文件</p>\n<p>修改以下两点：</p>\n<ul>\n<li><code>``javascript\n  //escape: /^\\\\([\\\\</code><em>{}[]()#$+-.!_&gt;])/,<br>  escape: /^\\([`</em>[]()#$+-.!_&gt;])/,<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">- &#96;&#96;&#96;javascript</span><br><span class=\"line\">    &#x2F;&#x2F;em: &#x2F;^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)&#x2F;,</span><br><span class=\"line\">    em: &#x2F;^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)&#x2F;,</span><br></pre></td></tr></table></figure>\n<h3 id=\"在next主题中加入mathJax开关\"><a href=\"#在next主题中加入mathJax开关\" class=\"headerlink\" title=\"在next主题中加入mathJax开关\"></a>在next主题中加入mathJax开关</h3></li>\n</ul>\n<p>打开<code>_config.yml</code>文件修改以下配置。</p>\n<p><img src=\"/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-02-03_19-14-21.png\" alt=\"2021-02-03_19-14-21\"></p>\n<h3 id=\"使用方法\"><a href=\"#使用方法\" class=\"headerlink\" title=\"使用方法\"></a>使用方法</h3><p>当一篇文章用到公式的时候，加入<code>mathjax: true</code>语句，这样就可以添加公式渲染。</p>\n<p><img src=\"/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-02-03_19-17-05.png\" alt=\"2021-02-03_19-17-05\"></p>\n<blockquote>\n<p>参考：</p>\n<p><a href=\"https://blog.csdn.net/ssjdoudou/article/details/103318019\">https://blog.csdn.net/ssjdoudou/article/details/103318019</a></p>\n</blockquote>\n","more":"<h2 id=\"解决图片无法上传问题\"><a href=\"#解决图片无法上传问题\" class=\"headerlink\" title=\"解决图片无法上传问题\"></a>解决图片无法上传问题</h2><p>今天说一个致命问题：博客上不能添加图片。</p>\n<p>当然遇到问题就要查一下怎么解决，结果一百度，你抄我，我抄你。</p>\n<p><img src=\"/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-1-13-16-33.jpg\" alt=\"2021-1-13-16-33\"></p>\n<p>最终我还是找到了一种方法。</p>\n<h3 id=\"修改配置文件\"><a href=\"#修改配置文件\" class=\"headerlink\" title=\"修改配置文件\"></a>修改配置文件</h3><p>打开<code>_config.yml</code>文件，找到<code>post_asset_folder</code>，将后面的<code>false</code>改成<code>true</code>，这个目的是新建的md文件会附带一个同名文件夹，可以把图片放在这里面。</p>\n<h3 id=\"安装插件\"><a href=\"#安装插件\" class=\"headerlink\" title=\"安装插件\"></a>安装插件</h3><p>在安装之前我先说一点，我也不知为什么用<code>npm</code>会报错，所以我先装了个<code>yarn</code>，用这个去安装。安装<code>yarn</code>的指令如下。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g  yarn</span><br></pre></td></tr></table></figure>\n<p>接下来用继续打指令：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yarn add https:&#x2F;&#x2F;github.com&#x2F;CodeFalling&#x2F;hexo-asset-image</span><br></pre></td></tr></table></figure>\n<p>等待一会就安装完毕了。</p>\n<h3 id=\"markdown添加图片方法\"><a href=\"#markdown添加图片方法\" class=\"headerlink\" title=\"markdown添加图片方法\"></a>markdown添加图片方法</h3><p>基本上就可以添加图片了，使用markdown添加图片的语句：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">![<span class=\"string\">随便起个名字</span>](<span class=\"link\">./文件夹/图片名</span>)</span><br></pre></td></tr></table></figure>\n<p>这里有几点需要注意：</p>\n<ul>\n<li>windows一定用<code>./</code>开头，虽然不加也可以识别，但hexo不识别，所以养成习惯加上吧。</li>\n<li>一定用<code>/</code>，而不是<code>\\</code>，同样也会不识别的。</li>\n</ul>\n<p>接下来就从本地可以检查一下了，或用<code>hexo d</code>拉上去</p>\n<blockquote>\n<p>参考：</p>\n<p><a href=\"https://www.bilibili.com/video/BV1D7411U7Yk?from=search&amp;seid=408704681372427777\">https://www.bilibili.com/video/BV1D7411U7Yk?from=search&amp;seid=408704681372427777</a></p>\n</blockquote>\n<hr>\n<h2 id=\"解决公式不能显示问题\"><a href=\"#解决公式不能显示问题\" class=\"headerlink\" title=\"解决公式不能显示问题\"></a>解决公式不能显示问题</h2><p>hexo-renderer-kramed引擎是在默认的渲染引擎，hexo-renderer-marked的基础上修改了一些bug，两者比较接近，也比较轻量级。</p>\n<p>所以需要先卸载marked渲染引擎，换成marked渲染引擎。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm uninstall hexo-renderer-marked --save</span><br><span class=\"line\">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改语义冲突\"><a href=\"#修改语义冲突\" class=\"headerlink\" title=\"修改语义冲突\"></a>修改语义冲突</h3><p>但其中有几处语义冲突，所以需要去改一下。</p>\n<p>找到<code>node_modules\\kramed\\lib\\rules\\inline.js</code>文件</p>\n<p>修改以下两点：</p>\n<ul>\n<li><code>``javascript\n  //escape: /^\\\\([\\\\</code><em>{}[]()#$+-.!_&gt;])/,<br>  escape: /^\\([`</em>[]()#$+-.!_&gt;])/,<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">- &#96;&#96;&#96;javascript</span><br><span class=\"line\">    &#x2F;&#x2F;em: &#x2F;^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)&#x2F;,</span><br><span class=\"line\">    em: &#x2F;^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)&#x2F;,</span><br></pre></td></tr></table></figure>\n<h3 id=\"在next主题中加入mathJax开关\"><a href=\"#在next主题中加入mathJax开关\" class=\"headerlink\" title=\"在next主题中加入mathJax开关\"></a>在next主题中加入mathJax开关</h3></li>\n</ul>\n<p>打开<code>_config.yml</code>文件修改以下配置。</p>\n<p><img src=\"/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-02-03_19-14-21.png\" alt=\"2021-02-03_19-14-21\"></p>\n<h3 id=\"使用方法\"><a href=\"#使用方法\" class=\"headerlink\" title=\"使用方法\"></a>使用方法</h3><p>当一篇文章用到公式的时候，加入<code>mathjax: true</code>语句，这样就可以添加公式渲染。</p>\n<p><img src=\"/2021/01/%E8%A7%A3%E5%86%B3hexo%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98/2021-02-03_19-17-05.png\" alt=\"2021-02-03_19-17-05\"></p>\n<blockquote>\n<p>参考：</p>\n<p><a href=\"https://blog.csdn.net/ssjdoudou/article/details/103318019\">https://blog.csdn.net/ssjdoudou/article/details/103318019</a></p>\n</blockquote>\n","categories":[{"name":"搭建博客","path":"api/categories/搭建博客.json"}],"tags":[{"name":"博客","path":"api/tags/博客.json"},{"name":"解决问题","path":"api/tags/解决问题.json"}]}