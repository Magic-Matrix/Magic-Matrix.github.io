{"title":"VSCode开发ESP32","slug":"VSCode开发ESP32","date":"2021-09-25T07:45:17.000Z","updated":"2021-10-26T08:10:13.062Z","comments":true,"path":"api/articles/VSCode开发ESP32.json","excerpt":null,"covers":["/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_15-53-47.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_15-59-31.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-04-18.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-08-23.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-17-17.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-32-48.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/ESP32mod.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/ESP32Board.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/list.png","/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-26_16-08-51.png"],"content":"<p>最近我要使用ESP32来做一些有意思的东西，我是真的喜欢这款MCU，尤其是Stm32被炒的天价之后。</p>\n<p>但我不太喜欢使用 Arduino IDE，那个实在是太简陋了，写起来总是莫名其妙的样式Bug，有意思的是VSCode支持了这个插件，这就太方便我使用了。</p>\n<h2 id=\"搭建开发环境\"><a href=\"#搭建开发环境\" class=\"headerlink\" title=\"搭建开发环境\"></a>搭建开发环境</h2><h3 id=\"安装PlatformIO\"><a href=\"#安装PlatformIO\" class=\"headerlink\" title=\"安装PlatformIO\"></a>安装PlatformIO</h3><p>首先就是安装VSCode，太简单了，一直点下一步就行，这里就不展示了。</p>\n<p>主要是需要装插件，直接搜索<code>PlatformIO</code>，就能直接搜到，找到后就直接安装。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_15-53-47.png\" alt=\"2021-9-25_15-53-47\"></p>\n<p>需要稍微等等，因为会安装一些其他东西。在等待的过程中，建一个文件夹，这是用来存放程序的位置。</p>\n<p>安装完后会没有反应，这时候需要重启一次VSCode才会有以下图标。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_15-59-31.png\" alt=\"2021-9-25_15-59-31\"></p>\n<p>点开这个图标后找到<code>platforms</code>，稍微等等，第一次进入有点慢。然后在<code>project</code>中点击<code>Create New Project</code>就可以创建新的项目。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-04-18.png\" alt=\"2021-9-25_16-04-18\"></p>\n<p>接下来填一下自己的一些东西，板子选项选择自己的板子就行，我使用的是最普通的板子，我就选择了如图的板子型号。</p>\n<p>注意有一个打勾选项，还记得刚才创建了一个文件夹吗，就把路径定位到那里，当然也可以默认，就是以后不好找到的。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-08-23.png\" alt=\"2021-9-25_16-08-23\"></p>\n<p>然后点击<code>Finish</code>等待创建项目即可，这个时间会非常的漫长，因为需要下载相关的源文件，有几百兆，而且还是国外服务器（科学上网会快一点的）。</p>\n<p>然后会出现下图的界面说明已经创建成功，下一次就不会再等了，因为这一次安装了所有的库。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-17-17.png\" alt=\"2021-9-25_16-17-17\"></p>\n<h3 id=\"目录介绍\"><a href=\"#目录介绍\" class=\"headerlink\" title=\"目录介绍\"></a>目录介绍</h3><p>我简单介绍一下这个库目录中的一些文件。</p>\n<ul>\n<li>创建好后的界面是<code>platformio.ini</code>，这是一个配置文件</li>\n<li><code>.pio</code>文件夹是一些编译后的文件。</li>\n<li><code>.vscode</code>是vscode的一些配置。其中，<code>c_cpp_properties.json</code>可以添加一些自己的源文件，这样vscode就会直接编译。</li>\n<li><code>include</code>放入自己的头文件。</li>\n<li><code>lib</code>放入自己的库。</li>\n<li><code>src</code>中有个<code>main.cpp</code>是主程序，程序会在这里运行。</li>\n</ul>\n<h3 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h3><p>写个简单的程序测试一下，老规矩，点灯！！</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;Arduino.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> LEDPIN 2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setup</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// put your setup code here, to run once:</span></span><br><span class=\"line\">  pinMode(LEDPIN, OUTPUT);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">loop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// put your main code here, to run repeatedly:</span></span><br><span class=\"line\">  dacWrite(LEDPIN, HIGH);</span><br><span class=\"line\">  delay(<span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  dacWrite(LEDPIN, LOW);</span><br><span class=\"line\">  delay(<span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>然后就可以直接编译和下载，分别是下图中的选项。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-32-48.png\" alt=\"2021-9-25_16-32-48\"></p>\n<p>注意：我这块板子没有自动下载电路，需要按着boot键来重新启动才能下载进去。</p>\n<p>快捷键也可以的：</p>\n<ul>\n<li>编译：<code>Ctrl + Alt + B</code></li>\n<li>下载：<code>Ctrl + Alt + U</code></li>\n</ul>\n<h2 id=\"ESP32引脚\"><a href=\"#ESP32引脚\" class=\"headerlink\" title=\"ESP32引脚\"></a>ESP32引脚</h2><p>这里我简单列出一下ESP32的引脚，一般会购买到下图的ESP32模组，所以下图会很直观的写出每个引脚的作用。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/ESP32mod.png\" alt=\"ESP32mod\"></p>\n<p>或者更多购买的会是以下的开发板，我购买的就是这个。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/ESP32Board.png\" alt=\"ESP32Board\"></p>\n<p>几乎每个引脚都有自己的功能，我列出了这些引脚的主要功能：</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/list.png\" alt=\"list\"></p>\n<p>由此可见，虽然引脚是很多，但并不是所有的引脚都能使用。以下是对每个引脚的使用情况：</p>\n<ul>\n<li>绿色突出显示的引脚是可以使用的。</li>\n<li>用黄色突出显示的是可以使用的，但您需要注意，因为它们可能主要在引导时出现意外行为。</li>\n<li>红色突出显示的引脚不建议用作输入或输出。</li>\n</ul>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-26_16-08-51.png\" alt=\"2021-9-26_16-08-51\"></p>\n","more":"<p>最近我要使用ESP32来做一些有意思的东西，我是真的喜欢这款MCU，尤其是Stm32被炒的天价之后。</p>\n<p>但我不太喜欢使用 Arduino IDE，那个实在是太简陋了，写起来总是莫名其妙的样式Bug，有意思的是VSCode支持了这个插件，这就太方便我使用了。</p>\n<h2 id=\"搭建开发环境\"><a href=\"#搭建开发环境\" class=\"headerlink\" title=\"搭建开发环境\"></a>搭建开发环境</h2><h3 id=\"安装PlatformIO\"><a href=\"#安装PlatformIO\" class=\"headerlink\" title=\"安装PlatformIO\"></a>安装PlatformIO</h3><p>首先就是安装VSCode，太简单了，一直点下一步就行，这里就不展示了。</p>\n<p>主要是需要装插件，直接搜索<code>PlatformIO</code>，就能直接搜到，找到后就直接安装。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_15-53-47.png\" alt=\"2021-9-25_15-53-47\"></p>\n<p>需要稍微等等，因为会安装一些其他东西。在等待的过程中，建一个文件夹，这是用来存放程序的位置。</p>\n<p>安装完后会没有反应，这时候需要重启一次VSCode才会有以下图标。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_15-59-31.png\" alt=\"2021-9-25_15-59-31\"></p>\n<p>点开这个图标后找到<code>platforms</code>，稍微等等，第一次进入有点慢。然后在<code>project</code>中点击<code>Create New Project</code>就可以创建新的项目。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-04-18.png\" alt=\"2021-9-25_16-04-18\"></p>\n<p>接下来填一下自己的一些东西，板子选项选择自己的板子就行，我使用的是最普通的板子，我就选择了如图的板子型号。</p>\n<p>注意有一个打勾选项，还记得刚才创建了一个文件夹吗，就把路径定位到那里，当然也可以默认，就是以后不好找到的。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-08-23.png\" alt=\"2021-9-25_16-08-23\"></p>\n<p>然后点击<code>Finish</code>等待创建项目即可，这个时间会非常的漫长，因为需要下载相关的源文件，有几百兆，而且还是国外服务器（科学上网会快一点的）。</p>\n<p>然后会出现下图的界面说明已经创建成功，下一次就不会再等了，因为这一次安装了所有的库。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-17-17.png\" alt=\"2021-9-25_16-17-17\"></p>\n<h3 id=\"目录介绍\"><a href=\"#目录介绍\" class=\"headerlink\" title=\"目录介绍\"></a>目录介绍</h3><p>我简单介绍一下这个库目录中的一些文件。</p>\n<ul>\n<li>创建好后的界面是<code>platformio.ini</code>，这是一个配置文件</li>\n<li><code>.pio</code>文件夹是一些编译后的文件。</li>\n<li><code>.vscode</code>是vscode的一些配置。其中，<code>c_cpp_properties.json</code>可以添加一些自己的源文件，这样vscode就会直接编译。</li>\n<li><code>include</code>放入自己的头文件。</li>\n<li><code>lib</code>放入自己的库。</li>\n<li><code>src</code>中有个<code>main.cpp</code>是主程序，程序会在这里运行。</li>\n</ul>\n<h3 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h3><p>写个简单的程序测试一下，老规矩，点灯！！</p>\n<figure class=\"highlight c++\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">include</span> <span class=\"meta-string\">&lt;Arduino.h&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"meta-keyword\">define</span> LEDPIN 2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">setup</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// put your setup code here, to run once:</span></span><br><span class=\"line\">  pinMode(LEDPIN, OUTPUT);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">loop</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// put your main code here, to run repeatedly:</span></span><br><span class=\"line\">  dacWrite(LEDPIN, HIGH);</span><br><span class=\"line\">  delay(<span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  dacWrite(LEDPIN, LOW);</span><br><span class=\"line\">  delay(<span class=\"number\">1000</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>然后就可以直接编译和下载，分别是下图中的选项。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-25_16-32-48.png\" alt=\"2021-9-25_16-32-48\"></p>\n<p>注意：我这块板子没有自动下载电路，需要按着boot键来重新启动才能下载进去。</p>\n<p>快捷键也可以的：</p>\n<ul>\n<li>编译：<code>Ctrl + Alt + B</code></li>\n<li>下载：<code>Ctrl + Alt + U</code></li>\n</ul>\n<h2 id=\"ESP32引脚\"><a href=\"#ESP32引脚\" class=\"headerlink\" title=\"ESP32引脚\"></a>ESP32引脚</h2><p>这里我简单列出一下ESP32的引脚，一般会购买到下图的ESP32模组，所以下图会很直观的写出每个引脚的作用。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/ESP32mod.png\" alt=\"ESP32mod\"></p>\n<p>或者更多购买的会是以下的开发板，我购买的就是这个。</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/ESP32Board.png\" alt=\"ESP32Board\"></p>\n<p>几乎每个引脚都有自己的功能，我列出了这些引脚的主要功能：</p>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/list.png\" alt=\"list\"></p>\n<p>由此可见，虽然引脚是很多，但并不是所有的引脚都能使用。以下是对每个引脚的使用情况：</p>\n<ul>\n<li>绿色突出显示的引脚是可以使用的。</li>\n<li>用黄色突出显示的是可以使用的，但您需要注意，因为它们可能主要在引导时出现意外行为。</li>\n<li>红色突出显示的引脚不建议用作输入或输出。</li>\n</ul>\n<p><img src=\"/2021/09/VSCode%E5%BC%80%E5%8F%91ESP32/2021-9-26_16-08-51.png\" alt=\"2021-9-26_16-08-51\"></p>\n","categories":[{"name":"日常折腾","path":"api/categories/日常折腾.json"}],"tags":[{"name":"单片机","path":"api/tags/单片机.json"}]}