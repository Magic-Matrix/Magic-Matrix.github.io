{"title":"小米mini路由器刷openwrt","slug":"小米mini路由器刷openwrt","date":"2021-02-02T02:58:11.000Z","updated":"2021-10-14T06:58:40.916Z","comments":true,"path":"api/articles/小米mini路由器刷openwrt.json","excerpt":null,"covers":["/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/9150e4e5gw1f8z2t4h3e7j205g05iaa0.jpg","/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-08-50.png","/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-11-39.png","/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-14-51.png","/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_15-49-48.png","/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_15-57-27.png","/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_16-15-45.png"],"content":"<p>我打算给小米mini路由器刷一个linux系统。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/9150e4e5gw1f8z2t4h3e7j205g05iaa0.jpg\" alt=\"9150e4e5gw1f8z2t4h3e7j205g05iaa0\"></p>\n<p>以下为小米路由器的配置：</p>\n<ul>\n<li>处理器：单核MT7620A 580MHz</li>\n<li>ROM:16MB SPI Flash</li>\n<li>内存:128MB DDR2</li>\n<li>2.4G WiFi2<em>2（最高速率300Mbps）</em></li>\n<li><em>5G WiFi2</em>2（最高速率867Mbps）</li>\n<li>1个USB 2.0接口（DC output：5V/1A）</li>\n<li>2个10/100M自适应LAN口（Auto MDI/MDIX）</li>\n<li>1个10/100M自适应WAN口（Auto MDI/MDIX）</li>\n</ul>\n<p>这种配置下刷上openwrt是非常合适的，但令我感到可惜的是ROM只有16MB，这样也就不能有其他软件了，但目前为止我还用不到，以后打算换个Flash，我记得好像有款是64MB的SPI协议的Flash，我再找找吧。</p>\n<h2 id=\"刷机前准备\"><a href=\"#刷机前准备\" class=\"headerlink\" title=\"刷机前准备\"></a>刷机前准备</h2><ul>\n<li>开发版的小米mini路由器固件</li>\n<li>不死固件（Breed）</li>\n<li>一个u盘</li>\n</ul>\n<p>这些文件我会打包到云盘，直接下载就可以。</p>\n<p>点击下载</p>\n<h2 id=\"路由器系统更换成开发版\"><a href=\"#路由器系统更换成开发版\" class=\"headerlink\" title=\"路由器系统更换成开发版\"></a>路由器系统更换成开发版</h2><p>我所使用路由器的这个版本是2.4.9稳定版，这个版本不能打开ssh，所以我打算换成开发版本，我准备了个开发版本的固件。</p>\n<p>首先浏览器输入<a href=\"http://www.miwifi.com/\">http://www.miwifi.com/</a>，这是小米wifi的缺省设置页面。在左上角的选项中找到“系统升级”选项。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-08-50.png\" alt=\"2021-02-02_19-08-50\"></p>\n<p>我们接下来是手动升级，把需要刷入的开发版小米固件刷入，按着下图方法升级即可。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-11-39.png\" alt=\"2021-02-02_19-11-39\"></p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-14-51.png\" alt=\"2021-02-02_19-11-56\"></p>\n<p>更换固件不会浪费太长时间，几分钟就好了，注意更换完后会断网，不用在意重新连接就可以。</p>\n<p>升级完后，选择中继工作模式，因为这样可以暂时顺利上网，然后正常连上可以用的wifi即可。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_15-49-48.png\" alt=\"2021-02-03_15-49-48\"></p>\n<p>注意我们选择的是中继，依然还在一个路由器的局域网环境，所以我们需要新的ip地址进入小米路由器的后台设置，如图所示这就是新的ip。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_15-57-27.png\" alt=\"2021-02-03_15-57-27\"></p>\n<p>接下来需要手机端安装小米wifi的App，这个目的是用小米账号去绑定路由器，只有绑定我们才能接下来获取ssh密码。</p>\n<p>点击这个网址：<a href=\"https://d.miwifi.com/rom/ssh\">https://d.miwifi.com/rom/ssh</a>，登录小米账号，可以查看一下是否绑定成功。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_16-15-45.png\" alt=\"2021-02-03_16-15-45\"></p>\n<p>这时会有一个root的密码，了解linux的就知道这个密码的重要性，所以先记一下，我们一会需要使用，放心这个密码只是暂时有用，一会就没用了（所以我给放出来让你们看见了）。</p>\n<p>左边还有个下载工具包，点击下载。</p>\n<p>找个u盘，把下载的工具包放进u盘里。</p>\n<p>接下来注意顺序：</p>\n<ul>\n<li>先给路由器断电。</li>\n<li>把u盘插在路由器上。</li>\n<li>顶住reset键上电，指示灯由<strong>黄色长亮</strong>到<strong>黄色闪烁</strong>时松开。</li>\n</ul>\n<p>更新完后输入<a href=\"http://d.miwifi.com/rom/ssh\">http://d.miwifi.com/rom/ssh</a></p>\n<h2 id=\"刷不死固件\"><a href=\"#刷不死固件\" class=\"headerlink\" title=\"刷不死固件\"></a>刷不死固件</h2><p>其实就是一个引导，就像bios系统一样，负责引导运行系统，这就有个好处，即使系统没装上，路由器也不会变砖。只需要把引导的系统换成新的就可以重新安装。</p>\n","more":"<p>我打算给小米mini路由器刷一个linux系统。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/9150e4e5gw1f8z2t4h3e7j205g05iaa0.jpg\" alt=\"9150e4e5gw1f8z2t4h3e7j205g05iaa0\"></p>\n<p>以下为小米路由器的配置：</p>\n<ul>\n<li>处理器：单核MT7620A 580MHz</li>\n<li>ROM:16MB SPI Flash</li>\n<li>内存:128MB DDR2</li>\n<li>2.4G WiFi2<em>2（最高速率300Mbps）</em></li>\n<li><em>5G WiFi2</em>2（最高速率867Mbps）</li>\n<li>1个USB 2.0接口（DC output：5V/1A）</li>\n<li>2个10/100M自适应LAN口（Auto MDI/MDIX）</li>\n<li>1个10/100M自适应WAN口（Auto MDI/MDIX）</li>\n</ul>\n<p>这种配置下刷上openwrt是非常合适的，但令我感到可惜的是ROM只有16MB，这样也就不能有其他软件了，但目前为止我还用不到，以后打算换个Flash，我记得好像有款是64MB的SPI协议的Flash，我再找找吧。</p>\n<h2 id=\"刷机前准备\"><a href=\"#刷机前准备\" class=\"headerlink\" title=\"刷机前准备\"></a>刷机前准备</h2><ul>\n<li>开发版的小米mini路由器固件</li>\n<li>不死固件（Breed）</li>\n<li>一个u盘</li>\n</ul>\n<p>这些文件我会打包到云盘，直接下载就可以。</p>\n<p>点击下载</p>\n<h2 id=\"路由器系统更换成开发版\"><a href=\"#路由器系统更换成开发版\" class=\"headerlink\" title=\"路由器系统更换成开发版\"></a>路由器系统更换成开发版</h2><p>我所使用路由器的这个版本是2.4.9稳定版，这个版本不能打开ssh，所以我打算换成开发版本，我准备了个开发版本的固件。</p>\n<p>首先浏览器输入<a href=\"http://www.miwifi.com/\">http://www.miwifi.com/</a>，这是小米wifi的缺省设置页面。在左上角的选项中找到“系统升级”选项。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-08-50.png\" alt=\"2021-02-02_19-08-50\"></p>\n<p>我们接下来是手动升级，把需要刷入的开发版小米固件刷入，按着下图方法升级即可。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-11-39.png\" alt=\"2021-02-02_19-11-39\"></p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-02_19-14-51.png\" alt=\"2021-02-02_19-11-56\"></p>\n<p>更换固件不会浪费太长时间，几分钟就好了，注意更换完后会断网，不用在意重新连接就可以。</p>\n<p>升级完后，选择中继工作模式，因为这样可以暂时顺利上网，然后正常连上可以用的wifi即可。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_15-49-48.png\" alt=\"2021-02-03_15-49-48\"></p>\n<p>注意我们选择的是中继，依然还在一个路由器的局域网环境，所以我们需要新的ip地址进入小米路由器的后台设置，如图所示这就是新的ip。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_15-57-27.png\" alt=\"2021-02-03_15-57-27\"></p>\n<p>接下来需要手机端安装小米wifi的App，这个目的是用小米账号去绑定路由器，只有绑定我们才能接下来获取ssh密码。</p>\n<p>点击这个网址：<a href=\"https://d.miwifi.com/rom/ssh\">https://d.miwifi.com/rom/ssh</a>，登录小米账号，可以查看一下是否绑定成功。</p>\n<p><img src=\"/2021/02/%E5%B0%8F%E7%B1%B3mini%E8%B7%AF%E7%94%B1%E5%99%A8%E5%88%B7openwrt/2021-02-03_16-15-45.png\" alt=\"2021-02-03_16-15-45\"></p>\n<p>这时会有一个root的密码，了解linux的就知道这个密码的重要性，所以先记一下，我们一会需要使用，放心这个密码只是暂时有用，一会就没用了（所以我给放出来让你们看见了）。</p>\n<p>左边还有个下载工具包，点击下载。</p>\n<p>找个u盘，把下载的工具包放进u盘里。</p>\n<p>接下来注意顺序：</p>\n<ul>\n<li>先给路由器断电。</li>\n<li>把u盘插在路由器上。</li>\n<li>顶住reset键上电，指示灯由<strong>黄色长亮</strong>到<strong>黄色闪烁</strong>时松开。</li>\n</ul>\n<p>更新完后输入<a href=\"http://d.miwifi.com/rom/ssh\">http://d.miwifi.com/rom/ssh</a></p>\n<h2 id=\"刷不死固件\"><a href=\"#刷不死固件\" class=\"headerlink\" title=\"刷不死固件\"></a>刷不死固件</h2><p>其实就是一个引导，就像bios系统一样，负责引导运行系统，这就有个好处，即使系统没装上，路由器也不会变砖。只需要把引导的系统换成新的就可以重新安装。</p>\n","categories":[{"name":"日常折腾","path":"api/categories/日常折腾.json"}],"tags":[{"name":"linux","path":"api/tags/linux.json"},{"name":"安装","path":"api/tags/安装.json"}]}