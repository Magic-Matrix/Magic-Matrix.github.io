{"title":"回顾计算机网络","slug":"回顾计算机网络","date":"2021-06-19T02:26:00.000Z","updated":"2021-10-14T07:01:06.263Z","comments":true,"path":"api/articles/回顾计算机网络.json","excerpt":null,"covers":null,"content":"<p>我在本科的时候比较系统学习过计算机网络，可惜好久不用了，所以，本篇文章是一个复习的笔记，我就挑一些我将来可能用到的东西去详细复习，所以像什么数据链路层和物理层我就不用去复习了（那部分是真的恶心）。</p>\n<h2 id=\"IP地址\"><a href=\"#IP地址\" class=\"headerlink\" title=\"IP地址\"></a>IP地址</h2><p>区分局域网或互联网中的计算机设备。</p>\n<ul>\n<li>每一台电脑有一个 IP 地址。</li>\n<li><code>127.0.0.1</code>为本地 localhost</li>\n</ul>\n<p>程序测试：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.UnknownHostException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 查询本地ip地址</span></span><br><span class=\"line\">            <span class=\"comment\">// 可以使用以下方式查询：</span></span><br><span class=\"line\">            <span class=\"comment\">// 1. 127.0.0.1</span></span><br><span class=\"line\">            <span class=\"comment\">// 2. localhost</span></span><br><span class=\"line\">            <span class=\"comment\">// 3. 直接使用.getLocalHost()方法</span></span><br><span class=\"line\">            InetAddress inetAddress1 = InetAddress.getByName(<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\">            System.out.println(inetAddress1);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 查询百度ip地址</span></span><br><span class=\"line\">            InetAddress inetAddress2 = InetAddress.getByName(<span class=\"string\">&quot;www.baidu.com&quot;</span>);</span><br><span class=\"line\">            System.out.println(inetAddress2);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (UnknownHostException e)&#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>除此之外还有一些方法可以直接去获取其他信息：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">inetAddress1.getAddress();             <span class=\"comment\">// Byte 形式的地址（不常用）</span></span><br><span class=\"line\">inetAddress1.getCanonicalHostName();   <span class=\"comment\">// 规范的名字（不常用）</span></span><br><span class=\"line\">inetAddress1.getHostAddress();         <span class=\"comment\">// 获得 ip 地址</span></span><br><span class=\"line\">inetAddress1.getHostName();            <span class=\"comment\">// 获得域名（或者自己电脑名字）</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"端口\"><a href=\"#端口\" class=\"headerlink\" title=\"端口\"></a>端口</h2><p>一台计算机上的一个进程。</p>\n<ul>\n<li><p>不同进程有不同端口号，主要用来区分软件。</p>\n</li>\n<li><p>范围为 0~65535.</p>\n</li>\n<li><p>端口号不能冲突。</p>\n</li>\n<li><p>端口分类：</p>\n<ul>\n<li><p>公有端口（0~1023）：</p>\n<p>| 服务协议 | 端口号 |<br>| ———— | ——— |<br>| HTTP     | 80     |<br>| HTTPS    | 443    |<br>| FTP      | 21     |<br>| Telent   | 23     |</p>\n</li>\n<li><p>程序注册端口（1024~49151）：分配给用户</p>\n<p>| 程序   | 端口号 |<br>| ——— | ——— |<br>| Tomcat | 8080   |<br>| MySQL  | 3306   |<br>| Oracle | 1521   |</p>\n</li>\n<li><p>动态、私有端口（49152~65535）：随机分配（尽量不去使用）：</p>\n<ul>\n<li><code>netstat -ano</code>可以查看所有的端口</li>\n<li><code>netstat -ano | findstr &quot;6000&quot;</code>可以查看指定的端口</li>\n<li><code>tasklist | findstr &quot;6000&quot;</code>可以查看指定的端口的进程</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetSocketAddress;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回某个进程的端口号信息</span></span><br><span class=\"line\">        InetSocketAddress socket = <span class=\"keyword\">new</span> InetSocketAddress(<span class=\"string\">&quot;127.0.0.1&quot;</span>,<span class=\"number\">8080</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 获取名字</span></span><br><span class=\"line\">        System.out.println(socket.getHostName());</span><br><span class=\"line\">        <span class=\"comment\">// 获取地址</span></span><br><span class=\"line\">        System.out.println(socket.getAddress());</span><br><span class=\"line\">        <span class=\"comment\">// 获取端口号</span></span><br><span class=\"line\">        System.out.println(socket.getPort());</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"通信协议\"><a href=\"#通信协议\" class=\"headerlink\" title=\"通信协议\"></a>通信协议</h2><ul>\n<li>TCP：用户传输协议<ul>\n<li>连接、稳定</li>\n<li>三次握手，四次挥手</li>\n<li>明确服务端和客户端</li>\n<li>效率低</li>\n</ul>\n</li>\n<li>UDP：用户数据报协议<ul>\n<li>不连接、不稳定</li>\n<li>服务端和客户端没有明显明确</li>\n<li>效率高</li>\n<li>DDOS：洪水攻击（饱和攻击）</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"TCP\"><a href=\"#TCP\" class=\"headerlink\" title=\"TCP\"></a>TCP</h2><h3 id=\"服务端程序\"><a href=\"#服务端程序\" class=\"headerlink\" title=\"服务端程序\"></a>服务端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.ByteArrayOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.ServerSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 服务端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Server</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        ServerSocket serverSocket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        Socket socket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        InputStream is = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ByteArrayOutputStream baos= <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 需要有一个地址，设置端口号为 9999</span></span><br><span class=\"line\">            serverSocket = <span class=\"keyword\">new</span> ServerSocket(<span class=\"number\">9999</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 等待客户端连接</span></span><br><span class=\"line\">            <span class=\"comment\">// 监听</span></span><br><span class=\"line\">            socket= serverSocket.accept();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 接收消息，实例化IO流</span></span><br><span class=\"line\">            is = socket.getInputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 管道流</span></span><br><span class=\"line\">            baos = <span class=\"keyword\">new</span> ByteArrayOutputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">int</span> len;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>((len = is.read(buffer)) != -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                baos.write(buffer,<span class=\"number\">0</span>,len);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            System.out.println(baos.toString());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 关闭流</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(baos != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;baos.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(is != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;is.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(socket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭连接</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;socket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (Exception e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">if</span>(serverSocket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭服务器</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;serverSocket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"客户端程序\"><a href=\"#客户端程序\" class=\"headerlink\" title=\"客户端程序\"></a>客户端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.OutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 客户端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Client</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        Socket socket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        OutputStream os = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 需要连接服务器的地址</span></span><br><span class=\"line\">            InetAddress serverIP = InetAddress.getByName(<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 需要连接服务器的端口号</span></span><br><span class=\"line\">            <span class=\"keyword\">int</span> port = <span class=\"number\">9999</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 传入ip和端口，创建一个 socket 连接</span></span><br><span class=\"line\">            socket = <span class=\"keyword\">new</span> Socket(serverIP, port);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送消息，实例化IO流</span></span><br><span class=\"line\">            os = socket.getOutputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送的内容</span></span><br><span class=\"line\">            os.write(<span class=\"string\">&quot;hello world&quot;</span>.getBytes());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 关闭流</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(os != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;os.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(socket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭连接</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;socket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"UDP\"><a href=\"#UDP\" class=\"headerlink\" title=\"UDP\"></a>UDP</h2><h3 id=\"服务端程序-1\"><a href=\"#服务端程序-1\" class=\"headerlink\" title=\"服务端程序\"></a>服务端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> test;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 服务端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test4</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        DatagramSocket socket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 开放端口</span></span><br><span class=\"line\">            socket = <span class=\"keyword\">new</span> DatagramSocket(<span class=\"number\">9090</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 接受数据包</span></span><br><span class=\"line\">            <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 先建一个包，用来接收</span></span><br><span class=\"line\">            DatagramPacket pack = <span class=\"keyword\">new</span> DatagramPacket(buffer, <span class=\"number\">0</span>,buffer.length);</span><br><span class=\"line\"></span><br><span class=\"line\">            socket.receive(pack);</span><br><span class=\"line\"></span><br><span class=\"line\">            System.out.println(<span class=\"keyword\">new</span> String(pack.getData()));</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(socket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭连接</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;socket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (Exception e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"客户端程序-1\"><a href=\"#客户端程序-1\" class=\"headerlink\" title=\"客户端程序\"></a>客户端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 客户端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test5</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 建立数据包连接</span></span><br><span class=\"line\">            DatagramSocket socket = <span class=\"keyword\">new</span> DatagramSocket();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送的ip地址</span></span><br><span class=\"line\">            InetAddress serverIP=  InetAddress.getByName(<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 发送的端口</span></span><br><span class=\"line\">            <span class=\"keyword\">int</span> port = <span class=\"number\">9090</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 新建一个包</span></span><br><span class=\"line\">            <span class=\"comment\">// 参数是起始位置和结束位置</span></span><br><span class=\"line\">            String massage = <span class=\"string\">&quot;hello word&quot;</span>;</span><br><span class=\"line\">            DatagramPacket pack = <span class=\"keyword\">new</span> DatagramPacket(</span><br><span class=\"line\">                    massage.getBytes(),          <span class=\"comment\">//发送的数据</span></span><br><span class=\"line\">                    <span class=\"number\">0</span>,                    <span class=\"comment\">//起始位置</span></span><br><span class=\"line\">                    massage.getBytes().length,   <span class=\"comment\">//结束位置</span></span><br><span class=\"line\">                    serverIP,                   <span class=\"comment\">// 接收ip</span></span><br><span class=\"line\">                    port                        <span class=\"comment\">// 端口号</span></span><br><span class=\"line\">            );</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送包</span></span><br><span class=\"line\">            socket.send(pack);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h2><p>统一资源定位符</p>\n<p>格式：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">协议:&#x2F;&#x2F;ip地址:端口号&#x2F;项目名&#x2F;资源</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL url = <span class=\"keyword\">new</span> URL(<span class=\"string\">&quot;http://localhost:8080&quot;</span>);</span><br></pre></td></tr></table></figure>\n","more":"<p>我在本科的时候比较系统学习过计算机网络，可惜好久不用了，所以，本篇文章是一个复习的笔记，我就挑一些我将来可能用到的东西去详细复习，所以像什么数据链路层和物理层我就不用去复习了（那部分是真的恶心）。</p>\n<h2 id=\"IP地址\"><a href=\"#IP地址\" class=\"headerlink\" title=\"IP地址\"></a>IP地址</h2><p>区分局域网或互联网中的计算机设备。</p>\n<ul>\n<li>每一台电脑有一个 IP 地址。</li>\n<li><code>127.0.0.1</code>为本地 localhost</li>\n</ul>\n<p>程序测试：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.UnknownHostException;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 查询本地ip地址</span></span><br><span class=\"line\">            <span class=\"comment\">// 可以使用以下方式查询：</span></span><br><span class=\"line\">            <span class=\"comment\">// 1. 127.0.0.1</span></span><br><span class=\"line\">            <span class=\"comment\">// 2. localhost</span></span><br><span class=\"line\">            <span class=\"comment\">// 3. 直接使用.getLocalHost()方法</span></span><br><span class=\"line\">            InetAddress inetAddress1 = InetAddress.getByName(<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\">            System.out.println(inetAddress1);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 查询百度ip地址</span></span><br><span class=\"line\">            InetAddress inetAddress2 = InetAddress.getByName(<span class=\"string\">&quot;www.baidu.com&quot;</span>);</span><br><span class=\"line\">            System.out.println(inetAddress2);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">catch</span> (UnknownHostException e)&#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>除此之外还有一些方法可以直接去获取其他信息：</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">inetAddress1.getAddress();             <span class=\"comment\">// Byte 形式的地址（不常用）</span></span><br><span class=\"line\">inetAddress1.getCanonicalHostName();   <span class=\"comment\">// 规范的名字（不常用）</span></span><br><span class=\"line\">inetAddress1.getHostAddress();         <span class=\"comment\">// 获得 ip 地址</span></span><br><span class=\"line\">inetAddress1.getHostName();            <span class=\"comment\">// 获得域名（或者自己电脑名字）</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"端口\"><a href=\"#端口\" class=\"headerlink\" title=\"端口\"></a>端口</h2><p>一台计算机上的一个进程。</p>\n<ul>\n<li><p>不同进程有不同端口号，主要用来区分软件。</p>\n</li>\n<li><p>范围为 0~65535.</p>\n</li>\n<li><p>端口号不能冲突。</p>\n</li>\n<li><p>端口分类：</p>\n<ul>\n<li><p>公有端口（0~1023）：</p>\n<p>| 服务协议 | 端口号 |<br>| ———— | ——— |<br>| HTTP     | 80     |<br>| HTTPS    | 443    |<br>| FTP      | 21     |<br>| Telent   | 23     |</p>\n</li>\n<li><p>程序注册端口（1024~49151）：分配给用户</p>\n<p>| 程序   | 端口号 |<br>| ——— | ——— |<br>| Tomcat | 8080   |<br>| MySQL  | 3306   |<br>| Oracle | 1521   |</p>\n</li>\n<li><p>动态、私有端口（49152~65535）：随机分配（尽量不去使用）：</p>\n<ul>\n<li><code>netstat -ano</code>可以查看所有的端口</li>\n<li><code>netstat -ano | findstr &quot;6000&quot;</code>可以查看指定的端口</li>\n<li><code>tasklist | findstr &quot;6000&quot;</code>可以查看指定的端口的进程</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetSocketAddress;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">// 返回某个进程的端口号信息</span></span><br><span class=\"line\">        InetSocketAddress socket = <span class=\"keyword\">new</span> InetSocketAddress(<span class=\"string\">&quot;127.0.0.1&quot;</span>,<span class=\"number\">8080</span>);</span><br><span class=\"line\">        <span class=\"comment\">// 获取名字</span></span><br><span class=\"line\">        System.out.println(socket.getHostName());</span><br><span class=\"line\">        <span class=\"comment\">// 获取地址</span></span><br><span class=\"line\">        System.out.println(socket.getAddress());</span><br><span class=\"line\">        <span class=\"comment\">// 获取端口号</span></span><br><span class=\"line\">        System.out.println(socket.getPort());</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"通信协议\"><a href=\"#通信协议\" class=\"headerlink\" title=\"通信协议\"></a>通信协议</h2><ul>\n<li>TCP：用户传输协议<ul>\n<li>连接、稳定</li>\n<li>三次握手，四次挥手</li>\n<li>明确服务端和客户端</li>\n<li>效率低</li>\n</ul>\n</li>\n<li>UDP：用户数据报协议<ul>\n<li>不连接、不稳定</li>\n<li>服务端和客户端没有明显明确</li>\n<li>效率高</li>\n<li>DDOS：洪水攻击（饱和攻击）</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"TCP\"><a href=\"#TCP\" class=\"headerlink\" title=\"TCP\"></a>TCP</h2><h3 id=\"服务端程序\"><a href=\"#服务端程序\" class=\"headerlink\" title=\"服务端程序\"></a>服务端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.ByteArrayOutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.InputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.ServerSocket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 服务端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Server</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        ServerSocket serverSocket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        Socket socket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        InputStream is = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        ByteArrayOutputStream baos= <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 需要有一个地址，设置端口号为 9999</span></span><br><span class=\"line\">            serverSocket = <span class=\"keyword\">new</span> ServerSocket(<span class=\"number\">9999</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 等待客户端连接</span></span><br><span class=\"line\">            <span class=\"comment\">// 监听</span></span><br><span class=\"line\">            socket= serverSocket.accept();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 接收消息，实例化IO流</span></span><br><span class=\"line\">            is = socket.getInputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 管道流</span></span><br><span class=\"line\">            baos = <span class=\"keyword\">new</span> ByteArrayOutputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">int</span> len;</span><br><span class=\"line\">            <span class=\"keyword\">while</span>((len = is.read(buffer)) != -<span class=\"number\">1</span>)&#123;</span><br><span class=\"line\">                baos.write(buffer,<span class=\"number\">0</span>,len);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            System.out.println(baos.toString());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 关闭流</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(baos != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;baos.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(is != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;is.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(socket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭连接</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;socket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (Exception e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">if</span>(serverSocket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭服务器</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;serverSocket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"客户端程序\"><a href=\"#客户端程序\" class=\"headerlink\" title=\"客户端程序\"></a>客户端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> java.io.IOException;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.OutputStream;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.InetAddress;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.Socket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 客户端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Client</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">        Socket socket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        OutputStream os = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 需要连接服务器的地址</span></span><br><span class=\"line\">            InetAddress serverIP = InetAddress.getByName(<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 需要连接服务器的端口号</span></span><br><span class=\"line\">            <span class=\"keyword\">int</span> port = <span class=\"number\">9999</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 传入ip和端口，创建一个 socket 连接</span></span><br><span class=\"line\">            socket = <span class=\"keyword\">new</span> Socket(serverIP, port);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送消息，实例化IO流</span></span><br><span class=\"line\">            os = socket.getOutputStream();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送的内容</span></span><br><span class=\"line\">            os.write(<span class=\"string\">&quot;hello world&quot;</span>.getBytes());</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 关闭流</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(os != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;os.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(socket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭连接</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;socket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (IOException e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"UDP\"><a href=\"#UDP\" class=\"headerlink\" title=\"UDP\"></a>UDP</h2><h3 id=\"服务端程序-1\"><a href=\"#服务端程序-1\" class=\"headerlink\" title=\"服务端程序\"></a>服务端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> test;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramPacket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.DatagramSocket;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 服务端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test4</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        DatagramSocket socket = <span class=\"keyword\">null</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 开放端口</span></span><br><span class=\"line\">            socket = <span class=\"keyword\">new</span> DatagramSocket(<span class=\"number\">9090</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 接受数据包</span></span><br><span class=\"line\">            <span class=\"keyword\">byte</span>[] buffer = <span class=\"keyword\">new</span> <span class=\"keyword\">byte</span>[<span class=\"number\">1024</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 先建一个包，用来接收</span></span><br><span class=\"line\">            DatagramPacket pack = <span class=\"keyword\">new</span> DatagramPacket(buffer, <span class=\"number\">0</span>,buffer.length);</span><br><span class=\"line\"></span><br><span class=\"line\">            socket.receive(pack);</span><br><span class=\"line\"></span><br><span class=\"line\">            System.out.println(<span class=\"keyword\">new</span> String(pack.getData()));</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(socket != <span class=\"keyword\">null</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 关闭连接</span></span><br><span class=\"line\">                <span class=\"keyword\">try</span> &#123;socket.close();&#125;</span><br><span class=\"line\">                <span class=\"keyword\">catch</span> (Exception e) &#123;e.printStackTrace();&#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"客户端程序-1\"><a href=\"#客户端程序-1\" class=\"headerlink\" title=\"客户端程序\"></a>客户端程序</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> test;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.net.*;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 客户端</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Test5</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 建立数据包连接</span></span><br><span class=\"line\">            DatagramSocket socket = <span class=\"keyword\">new</span> DatagramSocket();</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送的ip地址</span></span><br><span class=\"line\">            InetAddress serverIP=  InetAddress.getByName(<span class=\"string\">&quot;127.0.0.1&quot;</span>);</span><br><span class=\"line\">            <span class=\"comment\">// 发送的端口</span></span><br><span class=\"line\">            <span class=\"keyword\">int</span> port = <span class=\"number\">9090</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 新建一个包</span></span><br><span class=\"line\">            <span class=\"comment\">// 参数是起始位置和结束位置</span></span><br><span class=\"line\">            String massage = <span class=\"string\">&quot;hello word&quot;</span>;</span><br><span class=\"line\">            DatagramPacket pack = <span class=\"keyword\">new</span> DatagramPacket(</span><br><span class=\"line\">                    massage.getBytes(),          <span class=\"comment\">//发送的数据</span></span><br><span class=\"line\">                    <span class=\"number\">0</span>,                    <span class=\"comment\">//起始位置</span></span><br><span class=\"line\">                    massage.getBytes().length,   <span class=\"comment\">//结束位置</span></span><br><span class=\"line\">                    serverIP,                   <span class=\"comment\">// 接收ip</span></span><br><span class=\"line\">                    port                        <span class=\"comment\">// 端口号</span></span><br><span class=\"line\">            );</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">// 发送包</span></span><br><span class=\"line\">            socket.send(pack);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h2><p>统一资源定位符</p>\n<p>格式：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">协议:&#x2F;&#x2F;ip地址:端口号&#x2F;项目名&#x2F;资源</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">URL url = <span class=\"keyword\">new</span> URL(<span class=\"string\">&quot;http://localhost:8080&quot;</span>);</span><br></pre></td></tr></table></figure>\n","categories":[{"name":"Matrix的笔记本","path":"api/categories/Matrix的笔记本.json"}],"tags":[{"name":"java","path":"api/tags/java.json"},{"name":"计算机网络","path":"api/tags/计算机网络.json"}]}